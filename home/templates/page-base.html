{% extends "base.html" %}
{% load staticfiles multilingual link s3 %}

{% block super_content %}

  <div class="full-viewport bg-image bg-1"></div>

  <div class="navbar navbar-default navbar-setsuhi navbar-fixed-top visible-xs" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="{% url 'front' %}">
          {% multilingual %}
          {% mlpart "ja" %}
          <div>書道家 白石雪妃</div>
          {% endmlpart %}
          {% mlpart "en" %}
          <div>Setsuhi Shiraishi</div>
          {# <div class="italic">Calligraphy Artist</div> #}
          {% endmlpart %}
          {% endmultilingual %}
        </a>
        <div class="ml-widget ml-mobile-widget">
          <a class="ml-language" lang="ja">
            <div>
              <div>
                <img src="{% static 'media/images/flags/hinomaru.svg' %}" 
                     style="width: 37px;" />
              </div>
              日本語
            </div>
          </a>
          <a class="ml-language" lang="en">
            <div>
              <div>
                <img src="{% static 'media/images/flags/union-jack.svg' %}"
                     style="width: 37px; margin-top: 5px;" />
              </div>
              English
            </div>
          </a>
        </div>
      </div>
      <div class="navbar-collapse collapse" style="height: 1px;">
        <ul class="nav navbar-nav">
          {% for view_name, english, japanese, attr in nav_list %}
            <li>
              <a href="{% url view_name %}" {{attr}}>
                {% ml en=english ja=japanese %}
              </a>
            </li>
          {% endfor %}
        </ul>
      </div><!--/.nav-collapse -->
    </div><!--/.container-->
  </div><!--/.navbar-->

  <div id="left-dock" class="hidden-xs">

    <div id="signature">
      <a href="{% url 'front' %}">
        <img id="signature-image" src="{% s3_url 'static/media/images/signature/white-t.png' %}" />
      </a>
    </div>

    <div id="login-widget">
{%comment%}
      <form action="{% url 'login' %}" method="post" 
            id="login-form">
        {% csrf_token %}
        <div class="form-row">
          <label for="id_username" class="required">Username:</label> <input id="id_username" maxlength="254" name="username" type="text">
        </div>
        <div class="form-row">
          <label for="id_password" class="required">Password:</label> <input id="id_password" name="password" type="password">
          <input type="hidden" name="this_is_the_login_form" value="1">
          <input type="hidden" name="next" value="/admin/">
        </div>
        <div class="submit-row">
          <label>&nbsp;</label><input type="submit" value="Log in">
        </div>
      </form>
{%endcomment%}
    </div>

    <a href="{% url 'front' %}" class="white-link">
      <div lang="ja">
        <div class="horizontally-centered font-24 text-vertical-hack">
          書道家 白石雪妃　
        </div>
      </div>
      <div lang="en">
        <div class="pad-x-10">
          <div class="serif text-upper">
            Setsuhi <br>
            Shiraishi
          </div>
          <div class="serif italic text-muted">
            Japanese<br>
            Calligraphy<br>
            Artist
          </div>        
        </div>
      </div>
    </a>

    {% block multilingual %}
      <div id="ml-titles">
      </div>
      <div class="ml-widget">
        <div class="ml-btn-group">
          <button class="ml-language ml-button text-left" lang="en">
            <img src="{% static 'media/images/flags/union-jack.svg' %}" 
                 class="ml-flag" />
            <span class="language-name">English</span>
          </button>
          <button class="ml-language ml-button text-left" lang="ja">
            <img src="{% static 'media/images/flags/hinomaru.svg' %}" 
                 class="ml-flag" />
            <span class="language-name">日本語</span>
          </button>
        </div>
      </div>
    {% endblock multilingual %}
  </div> <!-- /#left-dock -->

  <div id="right-dock" class="hidden-xs">
    <div id="main-navigation">

      {% for view_name, english, japanese, attr in nav_list %}
        <div class="navigation-button navitem-on">
          <a href="{% url view_name %}" {{attr}}>
            <div class="boxi">
              <div class="boxi-br">
                {% ml en=english ja=japanese %}
              </div>
            </div>
          </a>
        </div>
      {% endfor %}

        <div class="dropdown navitem-off"
             id="navigation-spill-menu-wrapper">

          <button class="boxi dropdown-toggle" 
                  type="button" id="navigation-spill-menu-button" 
                  data-toggle="dropdown">
            <div class="text-left font-16px">
              <span class="glyphicon glyphicon-chevron-left"></span>
              <span class="glyphicon glyphicon-align-justify"></span>
            </div>
            <div class="boxi-br">
              {% ml en="Others" ja="その他" %}
            </div>
          </button>

          <ul class="dropdown-menu upleft-menu" role="menu" 
              aria-labelledby="navigation-spill-menu-button">
            {% for view_name, english, japanese, attr in nav_list %}
            <li role="presentation"
                class="spill-menu-item navitem-off">
              <a role="menuitem" tabindex="-1" 
                 href="{% url view_name %}" {{attr}}>
                {% ml en=english ja=japanese %}
              </a>
            </li>
            {% endfor %}
          </ul>
        </div>

    </div> <!-- end #main-navigation -->
  </div> <!-- /#right-dock -->

  <div id="top-content">
    {% block top_content %}{% endblock %}
  </div>

  <div id="main-content">
    {% block main_content %}{% endblock %}

    <div class="bg-photo-credit">
      {%multilingual%}
      {%mlpart 'en'%}
      <span class="ib">background photo:</span>
      <span class="ib">{%link 'yoshiyuki ōki'%}</span>
      {%endmlpart%}
      {%mlpart 'ja'%}
      <span class="ib" lang="en">background photo:</span>
      <span class="ib">{%link '大木啓至'%}</span>
      {%endmlpart%}
      {%endmultilingual%}
    </div>

    <div id="copyright">
      <span class="ib">&copy; Setsuhi Shiraishi</span>
      <span class="ib">All rights reserved.</span>
    </div>

  </div> <!-- /#main-content -->

{% endblock super_content %}
